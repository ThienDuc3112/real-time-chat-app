# API plan
Generated by ChatGPT

## REST endpoints

User Management

    POST /api/users/register: Register a new user.
    POST /api/users/login: Authenticate a user and return a token.
    GET /api/users/me: Get the current user's profile (requires authentication).
    PUT /api/users/me: Update the current user's profile (requires authentication).
    GET /api/users/:userId: Get a specific user's profile.
    DELETE /api/users/me: Delete the current user's account (requires authentication).

Messaging

    POST /api/messages: Send a new message (requires authentication).
        Body could include content, receiverId (for direct messages), or roomId (for group messages).
    GET /api/messages: Fetch recent messages (requires authentication).
        Query parameters could include filters like roomId, receiverId, senderId, and pagination parameters.
    GET /api/messages/:messageId: Get a specific message by ID (requires authentication).
    DELETE /api/messages/:messageId: Delete a specific message (requires authentication and ownership).

Contacts/Friends

    POST /api/contacts: Add a new contact/friend (requires authentication).
        Body could include userId of the user to add.
    GET /api/contacts: List all contacts/friends (requires authentication).
    DELETE /api/contacts/:userId: Remove a contact/friend (requires authentication).

Rooms/Groups

    POST /api/rooms: Create a new room/group (requires authentication).
        Body could include name, description, and initial members.
    GET /api/rooms: List all rooms/groups the user is part of (requires authentication).
    GET /api/rooms/:roomId: Get details about a specific room/group (requires authentication).
    PUT /api/rooms/:roomId: Update room/group details (requires authentication and admin rights).
    DELETE /api/rooms/:roomId: Delete a room/group (requires authentication and admin rights).
    POST /api/rooms/:roomId/members: Add a member to a room/group (requires authentication and admin rights).
    DELETE /api/rooms/:roomId/members/:userId: Remove a member from a room/group (requires authentication and admin rights).

## Real-time Updates (Socket.IO or similar)

While not REST API routes, real-time functionalities are crucial for chat apps. You might implement events like:

    User Connected: Notify when a user connects.
    User Disconnected: Notify when a user disconnects.
    New Message: Broadcast when a new message is sent.
    Read Receipt: Notify when a message is read.

Search (Optional)

    GET /api/search/users: Search for users by name or username.
    GET /api/search/messages: Search for messages by content.

File Sharing (Optional)

    POST /api/files: Upload a file to a message or room.
    GET /api/files/:fileId: Download or view a file.

## Models
- **User**
  - `id`: ID (Unique identifier for the user)
  - `username`: String (Unique username for the user)
  - `email`: String (Unique email address for the user)
  - `password`: String (Hashed password for user authentication)
  - `createdAt`: DateTime (Timestamp of when the user account was created)
  - `lastLogin`: DateTime (Timestamp of the user's last login)
  - `profilePicture`: String (Optional URL to the user's profile picture)

- **Message**
  - `id`: ID (Unique identifier for the message)
  - `content`: String (Text content of the message)
  - `senderId`: ID (References the User who sent the message)
  - `roomId`: ID (Optional; references the Room for group chats, null for direct messages)
  - `createdAt`: DateTime (Timestamp of when the message was sent)
  - `read`: Boolean (Indicates if the message has been read by the recipient(s))

- **Room**
  - `id`: ID (Unique identifier for the room/group chat)
  - `name`: String (Name of the room/group chat)
  - `description`: String (Optional description of the room's purpose or topic)
  - `members`: Array of IDs (List of User IDs who are members of the room)
  - `createdAt`: DateTime (Timestamp of when the room was created)

- **Contact**
  - `userId`: ID (References the User who has the contact)
  - `friendId`: ID (References another User who is the friend/contact)
  - `createdAt`: DateTime (Timestamp of when the friendship was established)

